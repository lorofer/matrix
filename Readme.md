# Matrix

Статическая библиотека для работы с матрицами в C.

Матрица состоит из значений типа `double` представляет собой структуру:
```c
typedef struct matrix_struct {
	double *array;
	int rows;
	int cols;
} matrix_t;
```

Память под матрицы выделяется в куче. Для работы с памятью предусмотрены следующие функции:

| Название функции | Описание функции | Возвращаемое значение |
| --- | --- | --- |
| `matrix_t *matrix_calloc(int rows, int columns)` | Выделяет память для новой матрицы размером `rows` строк на `columns` столбцов. В случае успеха, матрица будет заполнена  значениями по умолчанию.<br>Функция проверяет корректность переданных размеров. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `matrix_t *matrix_realloc(matrix_t *M, int rows, int cols)` | Изменяет размер существующей матрицы. При увеличении размера новые элементы заполняются 0. При уменьшении — лишние данные отбрасываются.<br>Функция проверяет корректность указателя и размеров. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `void matrix_free(matrix_t *M)` | Очищает память, на которую указывает `M`. Если `M == NULL`, ничего не происходит. | |

Функции для доступа к данным:

| Название функции | Описание функции | Возвращаемое значение |
| --- | --- | --- |
| `void matrix_set_el(matrix_t *M, double val, int i, int j)` | Устанавливает значение `val` в матрицу, на которую указывает `M`, на строку `i` и столбец `j`. | |
| `double matrix_get_el(matrix_t *M, int i, int j)` | Функция для получения значения элемента матрицы, на которую указывает `M`, строки `i` и столбца `j`. | Значение элемента матрицы `M` в строке `i` и столбце `j`. |
| `int matrix_get_rows(matrix_t *M)` | Функция для получения количества строк матрицы, на которую указывает `M`. | Значение `rows` матрицы `M`. |
| `int matrix_get_cols(matrix_t *M)` | Функция для получения количества столбцов матрицы, на которую указывает `M`. | Значение `cols` матрицы `M`. |
| `double **matrix_get_array(matrix_t *M)` | Функция для получения всех значений матрицы, на которую указывает `M`, в виде двумерного массива. | <li>В случае успеха, возвращает указатель на двумерный динамический массив, содержащий все значения матрицы `M`.<li>В случае ошибки, возвращает `NULL`. |

Функции для операций над матрицами:

| Название функции | Описание функции | Возвращаемое значение |
| --- | --- | --- |
| `int matrix_eq(matrix_t *A, matrix_t *B)` | Функция для сравнения матриц, на которые указывают `A` и `B`. | Возвращается **1**, если матрицы корректны и равны.<br>Возвращается **0**, если:<li>Матрицы неравны.<li>Один из указателей равен `NULL`. |
| `matrix_t *matrix_sub(matrix_t *A, matrix_t *B)` | Вычитает матрицу `B` из матрицы `A` поэлементно.<br>Функция проверяет корректность указателей и совпадение размеров. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `matrix_t *matrix_mult(matrix_t *A, matrix_t *B)` | Умножает матрицу `A` на матрицу `B`. Функция проверяет корректность указателей и возможность умножения матриц `(A->cols == B->rows)`. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `matrix_t *matrix_mult_number(matrix_t *A, double number)` | Умножает каждый элемент матрицы `A` на число `number`.<br>Функция проверяет корректность указателя. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `matrix_t *matrix_transpose(matrix_t *A)` | Транспонирует матрицу `A`.<br>Функция проверяет корректность указателя. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `matrix_t *matrix_calc_complements(matrix_t *A)` | Вычисляет матрицу алгебраических дополнений для квадратной матрицы `A`.<br>Функция проверяет корректность указателя и квадратность матрицы. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |
| `int matrix_determinant(matrix_t *A, double *result)` | Вычисляет определитель квадратной матрицы `A`. Результат записывается по адресу `result`.<br>Функция проверяет корректность указателей и квадратность матрицы. | Возвращается **1**, если:<li>`A == NULL`.<li>`result == NULL`.<li>Матрица не является квадратной.<br>Возвращается **0** в случае успеха. |
| `matrix_t *matrix_inverse(matrix_t *A)` | Вычисляет обратную матрицу для квадратной невырожденной матрицы `A`.<br>Функция проверяет корректность указателя и квадратность матрицы. | <li>В случае успеха, возвращает указатель на новую матрицу.<li>В случае ошибки, возвращает `NULL`. |